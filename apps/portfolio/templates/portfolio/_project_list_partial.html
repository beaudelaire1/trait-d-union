{% if projects %}
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
    {% for project in projects %}
    <a href="{{ project.get_absolute_url|default:'#' }}" 
       class="project-card group block relative rounded-2xl overflow-hidden bg-tus-white/5 backdrop-blur-sm border border-tus-white/10 hover:border-tus-blue/50 hover:shadow-[0_0_40px_rgba(11,45,255,0.2)] transition-all duration-500">
        
        {% if project.thumbnail %}
        <!-- Projet avec image -->
        <div class="relative h-56 overflow-hidden">
            <img src="{{ project.thumbnail.url }}" 
                 alt="{{ project.title }}" 
                 class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 ease-out" 
                 loading="lazy">
            <div class="absolute inset-0 bg-gradient-to-t from-tus-black/90 via-tus-black/20 to-transparent"></div>
            
            <!-- Tech badges sur l'image -->
            {% if project.technologies %}
            <div class="absolute bottom-3 left-3 flex flex-wrap gap-1.5">
                {% for tech in project.technologies|slice:":3" %}
                <span class="px-2 py-0.5 text-[10px] font-medium text-tus-white/90 bg-tus-black/60 backdrop-blur-sm rounded-full">
                    {{ tech }}
                </span>
                {% endfor %}
            </div>
            {% endif %}
        </div>
        {% else %}
        <!-- Placeholder pour projet sans image -->
        <div class="relative h-56 bg-gradient-to-br from-tus-blue/20 to-tus-blue/5 flex items-center justify-center overflow-hidden">
            <!-- Background animé -->
            <div class="absolute inset-0">
                <div class="absolute top-1/4 left-1/4 w-32 h-32 bg-tus-blue/20 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"></div>
                <div class="absolute bottom-1/4 right-1/4 w-24 h-24 bg-tus-blue/10 rounded-full blur-xl group-hover:scale-150 transition-transform duration-700"></div>
            </div>
            
            <!-- Icône placeholder -->
            <div class="relative z-10 w-20 h-20 rounded-2xl bg-tus-white/5 border border-tus-white/10 flex items-center justify-center group-hover:scale-110 group-hover:border-tus-blue/30 transition-all duration-500">
                {% if project.project_type == 'vitrine' %}
                <svg class="w-10 h-10 text-tus-blue/50 group-hover:text-tus-blue/70 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                </svg>
                {% elif project.project_type == 'commerce' %}
                <svg class="w-10 h-10 text-tus-blue/50 group-hover:text-tus-blue/70 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/>
                </svg>
                {% else %}
                <svg class="w-10 h-10 text-tus-blue/50 group-hover:text-tus-blue/70 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                </svg>
                {% endif %}
            </div>
            
            <!-- Tech badges -->
            {% if project.technologies %}
            <div class="absolute bottom-3 left-3 flex flex-wrap gap-1.5">
                {% for tech in project.technologies|slice:":3" %}
                <span class="px-2 py-0.5 text-[10px] font-medium text-tus-white/90 bg-tus-black/60 backdrop-blur-sm rounded-full">
                    {{ tech }}
                </span>
                {% endfor %}
            </div>
            {% endif %}
        </div>
        {% endif %}
        
        <!-- Contenu de la card -->
        <div class="p-6">
            <!-- Badge type -->
            <span class="inline-flex items-center gap-1.5 px-3 py-1 text-xs font-medium text-tus-blue bg-tus-blue/10 rounded-full mb-3">
                {% if project.project_type == 'vitrine' %}
                <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/></svg>
                {% elif project.project_type == 'commerce' %}
                <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"/></svg>
                {% else %}
                <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zm0 6a1 1 0 011-1h12a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6z" clip-rule="evenodd"/></svg>
                {% endif %}
                {{ project.get_project_type_display }}
            </span>
            
            <!-- Titre -->
            <h3 class="text-xl font-display font-semibold text-tus-white mb-2 group-hover:text-tus-blue transition-colors duration-300">
                {{ project.title }}
            </h3>
            
            <!-- Client -->
            {% if project.client_name %}
            <p class="text-tus-white/50 text-sm mb-2">{{ project.client_name }}</p>
            {% endif %}
            
            <!-- Description -->
            <p class="text-tus-white/60 text-sm line-clamp-2">{{ project.objective|truncatewords:20 }}</p>
        </div>
        
        <!-- Indicateur "Voir le projet" -->
        <div class="absolute bottom-6 right-6 opacity-0 group-hover:opacity-100 transform translate-x-2 group-hover:translate-x-0 transition-all duration-300">
            <div class="flex items-center gap-2">
                <span class="text-xs font-medium text-tus-blue">Voir</span>
                <svg class="w-5 h-5 text-tus-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                </svg>
            </div>
        </div>
    </a>
    {% endfor %}
</div>
{% else %}
<!-- Aucun projet -->
<div class="text-center py-20">
    <div class="inline-flex items-center justify-center w-20 h-20 rounded-full bg-tus-white/5 border border-tus-white/10 mb-6">
        <svg class="w-10 h-10 text-tus-white/40" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
        </svg>
    </div>
    <h3 class="text-xl font-display font-semibold text-tus-white mb-2">Aucun projet trouvé</h3>
    <p class="text-tus-white/60">Nos réalisations arrivent bientôt. Revenez nous voir !</p>
</div>
{% endif %}
